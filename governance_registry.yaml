# governance_registry.yaml (consolidated) - updated 2025-09-02 with collaboration insights
# Source of truth for platform selection and handoff governance.

# === CROSS-PLATFORM HANDOFF PROTOCOL ===
cross_platform_handoff:
  enforcement: required
  validation_sequence: [registry_check, capability_match, authority_confirm, rollback_anchor_establish]
  failure_protocol: halt_and_delegate
  mutation_log_required: true
  handoff_context_requirements: [session_id, source_tool, target_tool, task_scope, capability_requirements, authority_boundaries, success_criteria, failure_conditions, rollback_anchor]
  
  # NEW: Handoff complexity management
  handoff_complexity_guidelines:
    simple_execution_tasks: "all_platforms_capable"
    collaborative_coordination: "use_sequential_approach_not_simultaneous"
    complex_multi_platform: "chatgpt_for_synthesis_others_for_consultation"
    
    platform_selection_refinement:
      direct_file_creation: "chatgpt_primary"
      strategic_analysis: "copilot_and_gemini_secondary" 
      framework_orchestration: "claude_primary"
      collaboration_synthesis: "chatgpt_primary_others_advisory"

# === NODE-SPECIFIC KNOWLEDGE SYSTEM ===
node_knowledge_system:
  enforcement: enabled
  structure: flat_path_naming
  detection: automatic_scope_analysis
  injection: dynamic_supplement_loading
  node_validation:
    required_files: [knowledge_base.yaml, supplement_prompt.md, constraints.yaml]
    schema_enforcement: enabled
    quality_gates: enforced
  automation_tools:
    - node_detector: scope_analysis_and_node_identification
    - knowledge_injector: supplement_integration_and_handoff_assembly
    - feedback_processor: knowledge_validation_and_updates
    
  # NEW: Collaboration detection patterns
  collaboration_detection:
    multi_platform_requests: ["synthesis", "collaborative", "multi-tool", "combined", "distributed"]
    routing_strategy: "sequential_platform_engagement"
    complexity_threshold: "route_to_chatgpt_for_execution"

# === DEPRECATED TASKS REGISTRY ===
deprecated_tasks:
  image_restoration_ai:
    status: quarantined_all_platforms
    reason: likeness_retention_failure
    test_failure_reference: "SeaWorld_photo_restoration_2025_08_30"
    platforms_affected: [Claude, Copilot, ChatGPT, Gemini]
    approved_alternatives: [Nero_AI, ESRGAN, Real_ESRGAN, GFPGAN]
    enforcement: immediate_halt
  code_execution_ai:
    status: capability_gap_documented
    reason: output_cannot_be_verified
    platforms_affected: [Claude, ChatGPT]
    alternative: user_environment_execution
    enforcement: delegate_to_user
  likeness_retention_ai:
    status: unsupported_all_platforms
    reason: feature_accuracy_failure
    alternative: external_specialized_tools
    enforcement: immediate_halt

# === PLATFORM NAME ALIASES (compat) ===
platform_name_aliases:
  ChatGPT: ChatGPT_Plus
  Claude: Claude_Sonnet_4_Pro
  Gemini: Gemini_Upgraded
  Copilot_Free: Copilot

# === PLATFORM CAPABILITIES MATRIX (baseline) ===
platform_capabilities:
  Claude_Sonnet_4_Pro:
    execution_capability: false
    strengths: [analysis, documentation, governance_design, complex_reasoning]
    limitations: [no_execution, no_file_modification, no_image_processing]
    image_restoration: deprecated
    handoff_trigger: execution_required
    authority_boundaries: [read, analyze, recommend, delegate]
  Copilot:
    execution_capability: limited_sandbox
    strengths: [ide_integration, basic_scaffolding]
    limitations: [limited_repository_analysis, conceptual_implementation_focus, limited_execution_environment]
    image_restoration: deprecated
    handoff_trigger: complex_analysis_required
    authority_boundaries: [read, modify_github_context, scaffold, template]
  ChatGPT_Plus:
    execution_capability: false
    strengths: [file_generation, batch_operations, repository_analysis, implementation_delivery]
    limitations: [poor_load_handling, context_compression, no_execution]
    image_restoration: deprecated
    handoff_trigger: heavy_computation_required
    authority_boundaries: [read, validate_lightweight, generate_files, analyze_repository]
  Gemini_Upgraded:
    execution_capability: unknown_pending_validation
    strengths: [to_be_determined]
    limitations: [to_be_determined]
    image_restoration: deprecated
    handoff_trigger: capability_assessment_required
    authority_boundaries: [to_be_validated]
  External_Tools:
    image_processing:
      approved_tools: [Nero_AI, ESRGAN, Real_ESRGAN, GFPGAN]
      capability: specialized_image_restoration
      authority: full_image_modification
    execution_environments:
      user_local: full_execution_capability
      cloud_services: platform_dependent
      sandboxes: limited_capability

# === SESSION MANAGEMENT PROTOCOLS ===
session_management:
  new_session_triggers: [major_platform_handoff, scope_boundary_change, governance_violation_recovery, context_length_threshold_exceeded, task_type_fundamental_change]
  session_continuation_appropriate: [iterative_refinement_within_scope, progressive_validation_checkpoints, mutation_log_building_within_task, rollback_scenarios_within_objective]
  context_transfer_requirements:
    critical_elements: [governance_registry_reference, active_constraints_and_boundaries, capability_declarations_current, rollback_anchors_established, mutation_log_critical_entries]
    elements_to_discard: [conversational_tangents, failed_approaches_documented, exploratory_discussions_resolved, historical_context_not_scope_relevant]

mutation_log_reference:
  - [PHASE:CROSS_PLATFORM] Multi-platform exchange protocols implemented
  - [PHASE:QUARANTINE] AI image restoration deprecated based on test failures
  - [PHASE:CAPABILITY_MATRIX] Platform boundaries documented and enforced
  - [PHASE:SESSION_DISCIPLINE] Hybrid session management protocols established
  - [PHASE:COLLABORATION_INSIGHTS] Multi-platform behavioral patterns documented

# === PLATFORM SUBSCRIPTION STATUS AND AUTHORITY ===
platform_subscription_status:
  last_updated: "2025-09-02T00:00:00"
  tier_1_primary_platforms:
    Claude_Sonnet_4_Pro:
      subscription_tier: Pro
      primary_authority: [governance_design, complex_analysis, handoff_orchestration]
      reliability_rating: high
      cost_effectiveness: high_value_for_governance_tasks
    ChatGPT_Plus:
      subscription_tier: Plus
      primary_authority: [file_generation, repository_processing, batch_operations]
      reliability_rating: high_for_designated_tasks
      cost_effectiveness: high_value_for_file_operations
    Nero_AI_Image_Pro:
      subscription_tier: Pro_Pay_Per_Credit
      primary_authority: [image_restoration, image_upscaling, likeness_retention]
      reliability_rating: proven_effective
      cost_effectiveness: justified_for_specialized_image_tasks
      validation_status: approved_for_quarantined_ai_tasks
    Nero_AI_Video_Pro:
      subscription_tier: Pro_Annual
      primary_authority: [video_processing, video_enhancement, video_restoration]
      reliability_rating: high_for_video_specialization
      cost_effectiveness: justified_for_video_tasks
  tier_2_secondary_platforms:
    Gemini_Upgraded:
      subscription_tier: Premium
      status: underutilized_pending_use_case_identification
      primary_authority: [pending_capability_assessment]
      reliability_rating: unknown_requires_testing
      cost_effectiveness: unclear_pending_utilization
  tier_3_limited_platforms:
    Copilot:
      subscription_tier: Free
      status: downgraded_due_to_drift_and_performance_issues
      primary_authority: [basic_github_operations_only]
      reliability_rating: low_due_to_tier_limitations
      cost_effectiveness: poor_value_even_at_free_tier
      limitation_reason: frequent_drift_unclear_upgrade_benefit

# === ZERO ASSUMPTION REVALIDATION PROTOCOL ===
zero_assumption_governance:
  enforcement_policy: MANDATORY_REGISTRY_REVALIDATION_EVERY_HANDOFF
  revalidation_requirements:
    frequency: every_platform_exchange
    scope: complete_governance_registry_refresh
    assumption_level: zero_prior_governance_knowledge
    validation_source: https://raw.githubusercontent.com/lostourmind/ai-governance-ecosystem/main/governance_registry.yaml
  mandatory_steps_every_handoff:
    - fetch_current_governance_registry_from_source
    - validate_against_any_existing_governance_assumptions
    - update_constraints_and_boundaries_if_registry_changed
    - refresh_platform_capability_boundaries_and_authority
    - mutation_log_governance_revalidation_completion
    - proceed_only_after_governance_confirmation
  no_exceptions_enforcement:
    - applies_to_session_continuation
    - applies_to_iterative_handoffs_within_same_conversation
    - applies_even_if_registry_recently_validated_in_session
    - enforced_regardless_of_platform_familiarity_with_governance
    - mandatory_even_for_simple_or_quick_tasks
  failure_protocol:
    registry_inaccessible: HALT_ALL_OPERATIONS
    registry_changed_since_last_validation: UPDATE_AND_REVALIDATE
    governance_assumptions_outdated: REFRESH_AND_CONTINUE
    platform_authority_changed: UPDATE_BOUNDARIES_AND_PROCEED

# === PLATFORM ROUTING OPTIMIZATION ===
optimal_task_routing:
  governance_design_and_analysis:
    primary: Claude_Sonnet_4_Pro
    justification: subscription_tier_and_proven_governance_capability
  file_generation_and_repository_operations:
    primary: ChatGPT_Plus
    justification: subscription_tier_and_proven_file_processing_capability
  image_processing_tasks:
    primary: Nero_AI_Image_Pro
    justification: proven_effective_and_cost_justified_for_specialized_tasks
    ai_platforms: QUARANTINED_due_to_test_failures
  video_processing_tasks:
    primary: Nero_AI_Video_Pro
    justification: professional_tier_subscription_and_specialization
  github_operations:
    primary: user_direct_operations
    secondary: ChatGPT_Plus_for_file_generation
    avoid: Copilot
  experimental_tasks:
    candidate: Gemini_Upgraded
    status: pending_capability_assessment_and_use_case_identification
    authority: limited_until_proven_effective

# === COST OPTIMIZATION GUIDANCE ===
cost_effectiveness_analysis:
  high_value_subscriptions:
    - Claude_Sonnet_4_Pro: governance_and_complex_analysis_tasks
    - ChatGPT_Plus: file_operations_and_repository_processing
    - Nero_AI_Image_Pro: specialized_image_tasks_when_needed
    - Nero_AI_Video_Pro: specialized_video_tasks_when_needed
  underutilized_subscriptions:
    - Gemini_Upgraded: requires_use_case_identification_or_consider_downgrade
  problematic_subscriptions:
    - Copilot: poor_performance_even_at_no_cost_consider_elimination
  optimization_recommendations:
    - maintain_tier_1_subscriptions_for_proven_value
    - assess_Gemini_utilization_within_evaluation_period
    - avoid_Copilot_upgrade_until_drift_issues_resolved

# === EMPIRICALLY VALIDATED PLATFORM SELECTION SYSTEM ===
platform_selection_system:
  version: "1.1.0"
  last_updated: "2025-09-02T00:00:00"
  validation_basis: "empirical_testing_including_collaboration_scenarios"
  task_classification_schema:
    complexity: [simple, moderate, complex, expert_level, collaborative]
    domain: [general, web_dev, data_analysis, 3d_printing, documentation, governance, implementation, image_processing, video_processing, api_integration, technical_communication]
    output_type: [code, analysis, files, guidance, templates, repo_ops, architecture, synthesis]
    interaction_pattern: [single_query, iterative, collaborative, handoff_chain, multi_platform]
    runtime_requirements: [none, light, heavy, specialized]
    github_integration_needed: [none, basic, comprehensive]
    
  # UPDATED: Enhanced with collaboration insights
  empirically_validated_capabilities:
    ChatGPT_Plus:
      primary_strengths: [implementation_delivery, file_generation, repository_analysis, batch_operations, collaborative_synthesis]
      optimal_tasks:
        - complexity: [moderate, complex, collaborative]
        - output_type: [files, templates, code, repo_ops, synthesis]
        - interaction_pattern: [single_query, iterative, multi_platform]
        - runtime_requirements: [none, light]
      confidence_rating: high
      collaboration_capability: "execution_focused_maintains_task_completion"
      fallback_scenarios: [heavy_runtime, governance_design, architectural_consultation]
      
    Claude_Sonnet_4_Pro:
      primary_strengths: [governance_design, complex_analysis, architectural_consultation, handoff_orchestration]
      optimal_tasks:
        - complexity: [complex, expert_level, collaborative]
        - output_type: [analysis, guidance, architecture]
        - interaction_pattern: [iterative, handoff_chain, multi_platform]
        - domain: [governance, complex_analysis]
      confidence_rating: high
      collaboration_capability: "orchestration_and_governance_oversight"
      fallback_scenarios: [file_generation_heavy, implementation_delivery]
      
    Copilot:
      primary_strengths: [ide_integration, basic_scaffolding, strategic_analysis]
      optimal_tasks:
        - output_type: [code, analysis]
        - interaction_pattern: [collaborative]
        - context: [ide_environment]
        - github_integration_needed: [basic]
      confidence_rating: moderate
      collaboration_capability: "consultation_mode_under_complexity"
      limitations_documented: [limited_repository_analysis, conceptual_implementation_focus, shifts_to_advisory_in_complex_scenarios]
      fallback_scenarios: [comprehensive_analysis, complex_implementation, file_generation]
      
    Gemini_Upgraded:
      primary_strengths: [api_integration, logical_analysis, meta_analysis]
      optimal_tasks:
        - complexity: [moderate, complex]
        - domain: [api_integration, technical_analysis]
        - output_type: [analysis, guidance]
      confidence_rating: moderate
      collaboration_capability: "educational_and_explanatory_under_complexity"
      limitations_documented: [provides_meta_analysis_rather_than_execution_in_collaborative_scenarios]
      
    External_Tools:
      Nero_AI:
        specialty: [image_processing, video_processing]
        confidence_rating: high_for_specialization
        mandatory_for: [quarantined_ai_image_tasks]
        
  selection_algorithm:
    primary_selection_logic:
      - check_task_quarantine_status
      - identify_collaboration_complexity_level
      - match_task_characteristics_to_platform_strengths
      - apply_empirical_confidence_scoring
      - select_highest_confidence_match
      - establish_fallback_hierarchy
      
    # NEW: Collaboration-aware selection
    collaboration_selection_rules:
      simple_execution: "route_to_strongest_capability_platform"
      multi_platform_coordination: "use_chatgpt_for_synthesis_others_for_consultation"
      complex_collaborative: "sequential_platform_engagement_not_simultaneous"
      
    confidence_scoring_weights: {"capability_match": 0.4, "empirical_validation": 0.3, "historical_success_rate": 0.2, "user_preference": 0.1}
    fallback_logic:
      primary_unavailable: select_highest_confidence_secondary
      primary_underperforming: trigger_performance_validation_protocol
      repeated_failures: update_capability_ratings_and_rules
      collaboration_complexity_detected: route_to_chatgpt_for_execution_coordination